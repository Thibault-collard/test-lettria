{"ast":null,"code":"import _classCallCheck from \"/home/ubuntu/Bureau/test-lettria/example-create-react-app-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ubuntu/Bureau/test-lettria/example-create-react-app-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/ubuntu/Bureau/test-lettria/example-create-react-app-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/ubuntu/Bureau/test-lettria/example-create-react-app-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/ubuntu/Bureau/test-lettria/example-create-react-app-express/client/src/App.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this);\n\n    _this.change = function (e) {\n      _this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    _this.onSubmit = function (e) {\n      _this.fetchData();\n\n      _this.props.loginUser(userData);\n\n      e.preventDefault();\n      console.log(_this.state);\n\n      _this.setState({\n        email: \"\",\n        password: \"\"\n      });\n\n      _this.props.history.push('/landing');\n    };\n\n    _this.state = {\n      data: [],\n      email: \"\",\n      password: \"\",\n      token: \"\"\n    };\n    return _this;\n  } //end constructor\n\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {}\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"fetchData\",\n    value: function fetchData() {\n      var _this2 = this;\n\n      fetch('https://api.app.lettria.com/auth/login', {\n        method: 'POST',\n        withCredentials: true,\n        headers: {\n          'Content-type': 'application/json',\n          'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhbmFseXRpY0lkIjoiNWY2ZGYyMDY4MzU1M2ExNjI5NzBkMWU0IiwicHJvamVjdElkIjoiNWY2ZGYyMDY4MzU1M2ExNjI5NzBkMWU1Iiwic3Vic2NyaXB0aW9uSWQiOiI1ZjZkZjFkYmY5YWVjMjE2MjM3N2RjNGUiLCJpYXQiOjE2MDE0MDAwMjgsImV4cCI6MTY0OTc4NDAyOH0.rUV5ChRNY3iKviougXmCLuvrbexYwy1fXxy4O-Bm7_Y'\n        },\n        body: JSON.stringify({\n          email: this.state.email,\n          password: this.state.password\n        })\n      })\n      /*end fetch */\n      .then(function (results) {\n        return results.json();\n      }).then(function (data) {\n        return _this2.setState({\n          data: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.state.data);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loginContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }, \"Member Login\"), /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: this.state.email,\n        onChange: function onChange(e) {\n          return _this3.change(e);\n        },\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }\n      }), \"  \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"password\",\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChange: function onChange(e) {\n          return _this3.change(e);\n        },\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }\n      }), \"  \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick(e) {\n          return _this3.onSubmit(e);\n        },\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }\n      }, \"Submit\"))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.data.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  tokenAccountValidator\n})(withRouter(App));","map":{"version":3,"sources":["/home/ubuntu/Bureau/test-lettria/example-create-react-app-express/client/src/App.js"],"names":["React","Component","ReactDOM","withRouter","connect","App","change","e","setState","target","name","value","onSubmit","fetchData","props","loginUser","userData","preventDefault","console","log","state","email","password","history","push","data","token","fetch","method","withCredentials","headers","body","JSON","stringify","then","results","json","mapStateToProps","user","tokenAccountValidator"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nclass App extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            email: \"\",\n            password: \"\",\n            token: \"\",\n        };\n    } //end constructor\n\n    componentWillMount() {\n    }\n\n    componentDidMount() {\n\n        this.fetchData();\n    }\n\n    fetchData() {\n        fetch('https://api.app.lettria.com/auth/login', {\n            method: 'POST',\n            withCredentials: true,\n            headers: {\n                'Content-type': 'application/json',\n                'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhbmFseXRpY0lkIjoiNWY2ZGYyMDY4MzU1M2ExNjI5NzBkMWU0IiwicHJvamVjdElkIjoiNWY2ZGYyMDY4MzU1M2ExNjI5NzBkMWU1Iiwic3Vic2NyaXB0aW9uSWQiOiI1ZjZkZjFkYmY5YWVjMjE2MjM3N2RjNGUiLCJpYXQiOjE2MDE0MDAwMjgsImV4cCI6MTY0OTc4NDAyOH0.rUV5ChRNY3iKviougXmCLuvrbexYwy1fXxy4O-Bm7_Y',\n              },\n             body: JSON.stringify({\n                email: this.state.email,\n                password: this.state.password,\n            })\n        }) /*end fetch */\n        .then(results => results.json())\n        .then(data => this.setState({ data: data })\n        )\n    }\n\n    change = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    }; //end change\n\n    onSubmit = (e) =>{\n        this.fetchData();\n        this.props.loginUser(userData);\n        e.preventDefault();\n        console.log(this.state);\n        this.setState({\n             email: \"\",\n             password: \"\",\n            });\n\n        this.props.history.push('/landing');\n        };\n\n    render() {\n    console.log(this.state.data);\n        return (\n           <div>\n                <div className=\"loginContainer\">\n                <h2>Member Login</h2>\n                    <form>\n                            <input\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"Email\"\n                            value={this.state.email}\n                            onChange={e => this.change(e) }\n                            className=\"form-control\"\n                            />  <br />\n\n                            <input\n                            id=\"password\"\n                            name=\"password\"\n                            type=\"password\"\n                            placeholder=\"Password\"\n                            value={this.state.password}\n                            onChange={e => this.change(e) }\n                            className=\"form-control\"\n                            />  <br />\n\n                        <button onClick={e => this.onSubmit(e)} className=\"btn btn-primary\">Submit</button>\n                        </form>\n                    </div>\n            </div>\n        );\n      }\n}\n\nconst mapStateToProps = state => ({\n    user: state.data.user\n  });\n\nexport default connect(\n    mapStateToProps,\n    { tokenAccountValidator }\n  )(withRouter(App));"]},"metadata":{},"sourceType":"module"}